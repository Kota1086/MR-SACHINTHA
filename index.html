<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>I love you — සචින්ත ♥ සදුනි</title>
  <style>
    :root{ --bg0:#071026; --bg1:#0b1b2b; --p1:#ff6b9a; --p2:#ffb86b; --glass: rgba(255,255,255,0.04);} 
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;
      background: radial-gradient(800px 400px at 10% 10%, rgba(255,107,154,0.06), transparent), linear-gradient(180deg,var(--bg0),var(--bg1));
      color:#fff; display:flex; align-items:center; justify-content:center; padding:32px; -webkit-font-smoothing:antialiased;
    }.wrap{ width:100%; max-width:1000px; border-radius:20px; padding:36px; position:relative; overflow:hidden; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); box-shadow:0 20px 60px rgba(2,6,23,0.7); }

header{ display:flex; align-items:center; gap:20px; justify-content:center; flex-direction:column; }
h1{ font-size:40px; margin:0; font-weight:800; letter-spacing:0.6px; }
.title-highlight{ background:linear-gradient(90deg,var(--p1),var(--p2)); -webkit-background-clip:text; background-clip:text; color:transparent; }
p.lead{ margin:10px 0 0 0; opacity:0.9; }

.stage{ margin-top:18px; display:flex; gap:24px; align-items:center; justify-content:center; flex-wrap:wrap; }

/* Heart artwork */
.heart-wrap{ position:relative; width:220px; height:220px; display:grid; place-items:center; }
.pulse{ width:160px; height:160px; border-radius:50%; background: radial-gradient(circle at 30% 30%, rgba(255,107,154,0.22), transparent 30%), linear-gradient(180deg,var(--p1),var(--p2)); filter:blur(18px); opacity:0.9; transform:scale(0.85); animation:glow 2.6s infinite; }
@keyframes glow{ 0%{transform:scale(0.88); opacity:0.88} 50%{transform:scale(1.05); opacity:1} 100%{transform:scale(0.88); opacity:0.88} }

/* SVG heart */
.heart-svg{ width:140px; height:140px; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%) scale(1); animation:beat 1000ms ease-in-out infinite; filter:drop-shadow(0 12px 30px rgba(255,107,154,0.18)); }
@keyframes beat{ 0%{transform:translate(-50%,-50%) scale(0.98)} 30%{transform:translate(-50%,-50%) scale(1.14)} 60%{transform:translate(-50%,-50%) scale(0.98)} 100%{transform:translate(-50%,-50%) scale(1)} }

/* names area */
.names{ display:flex; gap:12px; align-items:center; justify-content:center; margin-top:12px; font-weight:700; font-size:22px; }
.names .sep{ font-size:24px; opacity:0.95 }

/* controls */
.controls{ display:flex; gap:10px; margin-top:18px; justify-content:center; }
button{ background:var(--glass); border:1px solid rgba(255,255,255,0.06); color:#fff; padding:10px 14px; border-radius:999px; cursor:pointer; font-weight:700; }
button.primary{ background:linear-gradient(90deg,var(--p1),var(--p2)); color:#071026; border:none; }

.info{ margin-top:18px; text-align:center; opacity:0.75; font-size:13px }

/* particle layer */
.particles{ position:absolute; inset:0; pointer-events:none; overflow:hidden; }
.particle{ position:absolute; will-change:transform,opacity; }

/* trail pointer heart */
.trail{ position:fixed; left:0; top:0; pointer-events:none; z-index:1400; }

/* responsive */
@media (max-width:560px){ h1{font-size:28px} .heart-wrap{ width:160px;height:160px } .heart-svg{ width:110px;height:110px } .names{font-size:18px} }

  </style>
</head>
<body>
  <div class="wrap" role="main" aria-label="Love animation for Saduni and Sachintha">
    <div class="particles" id="particles"></div>
    <header>
      <h1>I love you <span class="title-highlight">always</span></h1>
      <p class="lead">A little animated love page — interactive and share-ready.</p>
    </header><div class="stage">
  <div class="heart-wrap" aria-hidden="true">
    <div class="pulse"></div>
    <svg class="heart-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <defs>
        <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
          <stop offset="0%" stop-color="#ff6b9a" />
          <stop offset="100%" stop-color="#ffb86b" />
        </linearGradient>
      </defs>
      <path d="M12 21s-8-5.4-8-10.5S8.1 3 12 7.1 20 3 20 10.5 12 21 12 21z" fill="url(#g1)" />
    </svg>
  </div>

  <div style="min-width:260px; display:flex; flex-direction:column; align-items:center; gap:8px;">
    <div class="names"><span id="left">සචින්ත</span><span class="sep">♥</span><span id="right">සදුනි</span></div>
    <div class="controls">
      <button id="burst" class="primary">Make Hearts</button>
      <button id="toggleAuto">Auto: ON</button>
      <button id="share">Share</button>
    </div>

    <div class="info" id="status">Tip: press <strong>B</strong> for burst, space to toggle auto.</div>
  </div>
</div>

  </div>  <script>
    // Advanced interactive hearts, trail, oscillator sound, share & copy
    const particles = document.getElementById('particles');
    const leftName = document.getElementById('left');
    const rightName = document.getElementById('right');

    // Names in Sinhala are kept as requested; everything else in English.

    // Particle spawn
    function spawnHeart(xPct = Math.random(), opts = {}){
      const el = document.createElement('div');
      el.className = 'particle';
      const size = opts.size || (12 + Math.random()*28);
      el.style.width = size + 'px'; el.style.height = size + 'px';
      el.style.left = (xPct*100) + '%';
      el.style.bottom = '-6%';
      el.style.opacity = 0.95 - Math.random()*0.45;
      el.style.pointerEvents = 'none';

      const svg = ` <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="${size}" height="${size}" aria-hidden="true">
          <defs><linearGradient id="g${Date.now()}" x1="0" x2="1" y1="0" y2="1"><stop offset="0%" stop-color="#ff6b9a"/><stop offset="100%" stop-color="#ffb86b"/></linearGradient></defs>
          <path d="M12 21s-8-5.4-8-10.5S8.1 3 12 7.1 20 3 20 10.5 12 21 12 21z" fill="url(#g${Date.now()})"/>
        </svg>`;
      el.innerHTML = svg;
      particles.appendChild(el);

      const drift = (Math.random()*80)-40;
      const rise = 3000 + Math.random()*3200;
      const rotate = (Math.random()*360);
      el.animate([
        { transform: `translateY(0) rotate(${rotate}deg)`, opacity: +el.style.opacity },
        { transform: `translateY(-120vh) translateX(${drift}px) rotate(${rotate+90}deg)`, opacity: 0 }
      ], { duration: rise, easing: 'cubic-bezier(.2,.9,.2,1)'}).onfinish = () => el.remove();
    }

    // Burst
    document.getElementById('burst').addEventListener('click', ()=>{
      for(let i=0;i<26;i++) spawnHeart(0.5 + (Math.random()*0.4-0.2), {size: 18 + Math.random()*28});
      playPulseSound();
    });

    // Auto hearts
    let auto = true, autoId;
    function startAuto(){ stopAuto(); autoId = setInterval(()=> spawnHeart(Math.random()), 650); }
    function stopAuto(){ if(autoId) clearInterval(autoId); }
    startAuto();

    document.getElementById('toggleAuto').addEventListener('click', (e)=>{ auto = !auto; e.target.textContent = 'Auto: ' + (auto ? 'ON' : 'OFF'); if(auto) startAuto(); else stopAuto(); });

    // Trail on mouse move
    let trailTimer;
    window.addEventListener('mousemove', (e)=>{
      const x = e.clientX / window.innerWidth;
      spawnHeart(x, {size: 8 + Math.random()*14});
      // throttle
      clearTimeout(trailTimer);
      trailTimer = setTimeout(()=>{}, 60);
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', (e)=>{
      if(e.key.toLowerCase() === 'b') document.getElementById('burst').click();
      if(e.code === 'Space'){ e.preventDefault(); document.getElementById('toggleAuto').click(); }
    });

    // Keep particle count bounded
    setInterval(()=>{ const c = particles.children.length; if(c > 160){ for(let i=0;i<40;i++) if(particles.firstChild) particles.removeChild(particles.firstChild); } }, 2000);

    // Simple oscillator "pulse" sound on burst using WebAudio
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playPulseSound(){ try{
      const now = audioCtx.currentTime;
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.type = 'sine'; o.frequency.setValueAtTime(280, now);
      g.gain.setValueAtTime(0, now);
      g.gain.linearRampToValueAtTime(0.18, now + 0.01);
      g.gain.exponentialRampToValueAtTime(0.0001, now + 0.9);
      o.connect(g); g.connect(audioCtx.destination);
      o.start(now); o.stop(now + 1);
    }catch(e){ /* audio blocked or unavailable */ } }

    // Share button: use Web Share API if available, otherwise copy message
    document.getElementById('share').addEventListener('click', async ()=>{
      const message = `I love you — ${leftName.textContent} ♥ ${rightName.textContent}`;
      if(navigator.share){
        try{ await navigator.share({ title: 'Love', text: message }); document.getElementById('status').textContent = 'Shared!'; }
        catch(ex){ document.getElementById('status').textContent = 'Share cancelled.' }
      } else if(navigator.clipboard){
        await navigator.clipboard.writeText(message); document.getElementById('status').textContent = 'Message copied to clipboard.';
      } else { document.getElementById('status').textContent = 'Sharing not supported.'; }
    });

    // Expose a small API: swap names (kept for convenience)
    function swapNames(){ const a = leftName.textContent; leftName.textContent = rightName.textContent; rightName.textContent = a; }

    // Make initial subtle entrance animation
    document.querySelectorAll('.wrap, .heart-svg, .names, .controls').forEach((el,i)=>{ el.style.opacity=0; el.style.transform='translateY(10px)'; setTimeout(()=>{ el.style.transition='all 600ms cubic-bezier(.2,.9,.2,1)'; el.style.opacity=1; el.style.transform='translateY(0)'; }, 160 + i*80); });

    // Auto unlock audio on first user gesture
    function resumeAudio(){ if(audioCtx.state === 'suspended') audioCtx.resume(); window.removeEventListener('pointerdown', resumeAudio); }
    window.addEventListener('pointerdown', resumeAudio);

    // Optional: flip names on double-click of the names area
    document.querySelector('.names').addEventListener('dblclick', ()=>{ swapNames(); document.getElementById('status').textContent = 'Names swapped'; setTimeout(()=>document.getElementById('status').textContent = 'Tip: press B for burst, space to toggle auto.', 1900); });
  </script></body>
</html>