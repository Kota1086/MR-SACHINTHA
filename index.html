<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Hey Saduni üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{
    --bg:#0a0a16;
    --primary:#ff5ea8;
    --secondary:#8a63ff;
    --glass1:rgba(255,255,255,.12);
    --glass2:rgba(255,255,255,.06);
    --txt:#f8f8ff;
    --shadow:0 24px 60px rgba(0,0,0,.55);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,Arial;color:var(--txt);background:var(--bg);overflow:hidden}

  /* ===== Parallax layers ===== */
  .layer{position:fixed;inset:0;pointer-events:none}
  .grad{
    background:
      radial-gradient(1200px 800px at 15% 20%, rgba(255,94,168,.24), transparent 60%),
      radial-gradient(1000px 700px at 85% 80%, rgba(138,99,255,.2), transparent 60%),
      linear-gradient(120deg, #090913, #141428 60%, #090913);
    z-index:-3;
  }
  .photo{background-position:center;background-size:cover;filter:blur(8px) brightness(.62) saturate(1.1);transform:scale(1.06);opacity:.0;transition:opacity .8s ease;z-index:-4}
  .noise{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity=".04"/></svg>');mix-blend-mode:overlay;opacity:.15;z-index:-2}

  /* ===== Loading: heart particles that assemble ===== */
  #loading{position:fixed;inset:0;display:grid;place-items:center;background:linear-gradient(135deg,#120d29,#24124d);z-index:99}
  .loadWrap{display:grid;place-items:center;gap:14px;text-align:center}
  .pulse{font-weight:900;letter-spacing:.06em;background:linear-gradient(90deg,#fff,#ffd1e8,#fff);-webkit-background-clip:text;background-clip:text;color:transparent;animation:shimmer 2.2s linear infinite}
  @keyframes shimmer{to{background-position:200%}}
  canvas#heartbuild{width:min(72vmin,560px);height:min(72vmin,560px)}

  /* ===== Consent Gate ===== */
  .gate{position:fixed;inset:0;display:grid;place-items:center;padding:24px;z-index:50}
  .card{
    width:min(960px,94vw);border-radius:28px;padding:22px;background:linear-gradient( to bottom right, var(--glass1), var(--glass2));
    border:1px solid rgba(255,255,255,.22);backdrop-filter:blur(14px) saturate(160%);box-shadow:var(--shadow)
  }
  .head{display:grid;grid-template-columns:1fr auto;align-items:center;gap:14px;margin-bottom:10px}
  .title{font-size:clamp(26px,4.2vw,46px);font-weight:900;line-height:1.05;margin:0;text-shadow:0 8px 24px rgba(255,94,168,.35)}
  .avatar{width:86px;height:86px;border-radius:50%;border:3px solid rgba(255,255,255,.85);background:url('https://i.ibb.co/svhwTgM/saduni.jpg') center/cover no-repeat;filter:blur(2px) brightness(.8);opacity:.85}
  .q{font-size:clamp(15px,2.4vw,18px);opacity:.96;margin:4px 0 14px}
  .row{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  @media(max-width:640px){ .row{grid-template-columns:1fr} }

  .btn{
    display:flex;align-items:center;justify-content:center;gap:10px;cursor:pointer;padding:14px 16px;border-radius:16px;border:0;
    font-weight:900;font-size:16px;letter-spacing:.02em;background:#fff;color:#111;box-shadow:0 14px 26px rgba(0,0,0,.25);
    transition:transform .08s ease, box-shadow .22s ease, background .2s
  }
  .btn:hover{ transform:translateY(-1px) }
  .btn:active{ transform:translateY(1px) scale(.98) }
  .btn.yes{background:linear-gradient(135deg,#fff 0%,#ffe7f3 100%)}
  .btn.no{background:linear-gradient(135deg,#fff 0%,#e7e7ee 100%)}

  .note{opacity:.8;font-size:12px;margin-top:10px}

  /* ===== Main App ===== */
  .wrap{position:relative;display:none;height:100%;padding:24px;place-items:center}
  .shell{width:min(1100px,96vw);display:grid;gap:16px}
  .top{
    display:grid;grid-template-columns:1.2fr .8fr;gap:16px
  }
  @media(max-width:920px){ .top{grid-template-columns:1fr} }

  .hero{
    position:relative;border-radius:24px;overflow:hidden;min-height:340px;
    background:linear-gradient(180deg, rgba(255,255,255,.1), rgba(255,255,255,.04));
    border:1px solid rgba(255,255,255,.22)
  }
  .hero::before{
    content:"";position:absolute;inset:0;background:url('https://i.ibb.co/svhwTgM/saduni.jpg') center/cover no-repeat;
    filter:brightness(.92) saturate(1.1);opacity:.0;transition:opacity .6s ease;transform:scale(1.04)
  }
  .heroBody{position:relative;z-index:1;padding:22px}
  .glow{font-size:clamp(26px,3vw,40px);font-weight:900;margin:0 0 8px;text-shadow:0 0 14px #ffd1e8, 0 0 34px var(--primary)}
  .tag{margin:0;opacity:.96}

  .panel{
    border-radius:24px;padding:16px;background:linear-gradient(180deg, var(--glass1), var(--glass2));
    border:1px solid rgba(255,255,255,.22);backdrop-filter:blur(12px) saturate(150%);
  }
  .toolbar{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
  @media(max-width:560px){ .toolbar{grid-template-columns:1fr} }

  .cta{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
  @media(max-width:560px){ .cta{grid-template-columns:1fr} }

  .pill{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;background:radial-gradient(circle at 30% 30%, #ffd1e8, #ff8abd 70%);color:#2a0b1e;font-weight:900;box-shadow:0 10px 24px rgba(255,94,168,.45)}

  .foot{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:6px;opacity:.9;font-size:13px}
  .hide{display:none !important}
</style>
</head>
<body>

<!-- Parallax base -->
<div class="layer grad" id="grad"></div>
<div class="layer photo" id="bgPhoto"></div>
<div class="layer noise"></div>

<!-- Loading -->
<div id="loading">
  <div class="loadWrap">
    <canvas id="heartbuild"></canvas>
    <div class="pulse">Spinning up love for Saduni‚Ä¶</div>
  </div>
</div>

<!-- Consent Gate -->
<section class="gate" id="gate">
  <div class="card">
    <div class="head">
      <div>
        <h1 class="title">Hi Saduni ‚ú®</h1>
        <p class="q">Before we begin, are you happy for us to show your photo as the background here?</p>
      </div>
      <div class="avatar" aria-hidden="true" title="Preview (blurred)"></div>
    </div>

    <div class="row">
      <button class="btn yes" id="allowPhoto">‚úÖ Yes, you can use my photo</button>
      <button class="btn no" id="denyPhoto">üö´ No, keep it private</button>
    </div>

    <p class="q" style="margin-top:16px">And one more tiny thing‚Ä¶ do you like me? ü§≠</p>
    <div class="row">
      <button class="btn yes" id="likeALittle">A little</button>
      <button class="btn yes" id="likeTooMuch">Too much üòâ</button>
    </div>

    <div class="note">Your choices affect the animations only (for fun). Nothing is uploaded or stored anywhere.</div>
  </div>
</section>

<!-- FX canvases -->
<canvas id="layer-hearts" class="layer"></canvas>
<canvas id="layer-sparkles" class="layer"></canvas>
<canvas id="layer-confetti" class="layer"></canvas>

<!-- App -->
<main class="wrap" id="app">
  <div class="shell">
    <div class="top">
      <section class="hero" id="hero">
        <div class="heroBody">
          <div class="pill">üíò For Saduni</div>
          <h2 class="glow">I love you, always & forever</h2>
          <p class="tag">Move your mouse to draw ‚ú® sparkles. Tap buttons to make the sky celebrate.</p>
        </div>
      </section>

      <aside class="panel">
        <div class="toolbar">
          <button class="btn" id="btnHearts">‚ù§Ô∏è Heart Rain</button>
          <button class="btn" id="btnTeddy">üß∏ Teddy Rain</button>
          <button class="btn" id="btnFire">üéÜ Fireworks</button>
        </div>
        <div class="cta">
          <button class="btn" id="btnBurst">üí• Heart Burst</button>
          <button class="btn" id="btnSparkles">‚ú® Toggle Sparkles</button>
          <button class="btn" id="btnMessage">üíå Love Note</button>
        </div>
      </aside>
    </div>

    <div class="foot">
      <div>Made with üíñ for <b>Saduni</b></div>
      <div id="date"></div>
    </div>
  </div>
</main>

<script>
/* ----------------- Basics ----------------- */
const IMG = 'https://i.ibb.co/svhwTgM/saduni.jpg';
const bgPhoto = document.getElementById('bgPhoto');
const hero = document.getElementById('hero');
const app = document.getElementById('app');
document.getElementById('date').textContent = new Date().toLocaleDateString();

/* Parallax */
const grad = document.getElementById('grad');
addEventListener('mousemove', (e)=>{
  const x = (e.clientX / innerWidth - .5) * 8;
  const y = (e.clientY / innerHeight - .5) * 8;
  grad.style.transform = `translate(${x}px, ${y}px)`;
  if(bgPhoto.style.opacity>0) bgPhoto.style.transform = `translate(${-x/2}px, ${-y/2}px) scale(1.06)`;
}, {passive:true});

/* ----------------- Loading: particle heart morph ----------------- */
(function buildHeart(){
  const c = document.getElementById('heartbuild');
  const ctx = c.getContext('2d');
  function fit(){ const dpr=Math.max(1,Math.min(2,devicePixelRatio||1)); c.width=560*dpr; c.height=560*dpr; c.style.width='min(72vmin,560px)'; c.style.height='min(72vmin,560px)'; ctx.setTransform(dpr,0,0,dpr,0,0); }
  fit(); addEventListener('resize',fit);
  const cx = 280, cy = 260;
  const dots = Array.from({length: 220}, ()=>({
    x: Math.random()*560, y: Math.random()*560, vx:0, vy:0, s: Math.random()*2+1, hue: 330+Math.random()*40
  }));
  function heart(t){
    // implicit heart curve mapping (nice shape)
    const u = t*2*Math.PI;
    const x = 16 * Math.pow(Math.sin(u),3);
    const y = 13*Math.cos(u) - 5*Math.cos(2*u) - 2*Math.cos(3*u) - Math.cos(4*u);
    return [x*8, -y*8];
  }
  let a=0, done=false;
  (function loop(){
    ctx.clearRect(0,0,560,560);
    a += 0.02; if(a>1) { a=1; done=true; }
    for(let i=0;i<dots.length;i++){
      const t = (i/dots.length + a*0.5) % 1;
      const [hx,hy] = heart(t);
      const tx = cx + hx, ty = cy + hy;
      const p = dots[i];
      const ax = (tx - p.x)*0.04, ay = (ty - p.y)*0.04;
      p.vx = (p.vx + ax)*0.92; p.vy = (p.vy + ay)*0.92;
      p.x += p.vx; p.y += p.vy;
      ctx.fillStyle = `hsl(${p.hue} 90% 60%)`;
      ctx.beginPath(); ctx.arc(p.x,p.y,p.s,0,Math.PI*2); ctx.fill();
    }
    requestAnimationFrame(loop);
  })();
  // finish loading
  setTimeout(()=>{ document.getElementById('loading').style.opacity='0'; setTimeout(()=>document.getElementById('loading').style.display='none',400); }, 2600);
})();

/* ----------------- Consent Gate ----------------- */
let likeBoost = 1; // boosts effects if she clicks "Too much üòâ"
document.getElementById('allowPhoto').onclick = ()=>{
  bgPhoto.style.backgroundImage = `url('${IMG}')`;
  bgPhoto.style.opacity = '1';
  hero.style.setProperty('--show','1');
  hero.style.setProperty('opacity','.999');
  hero.style.setProperty('--photo','1');
  hero.style.setProperty('--blur','0');
  hero.style.setProperty('--bright','1');
  hero.style.setProperty('--sat','1.1');
  hero.style.setProperty('--scale','1.04');
  document.getElementById('gate').classList.add('hide');
  app.style.display='grid';
  // reveal hero inner photo overlay
  hero.style.setProperty('--reveal','1');
  hero.querySelector('.hero').style = '';
  hero.classList.add('ready');
  hero.querySelector(':scope').previousElementSibling;
  hero.style.opacity='1';
  hero.querySelector('.heroBody').parentElement.previousSibling;
  hero.style.cssText += '';
  hero.querySelector('.heroBody').parentElement.style = '';
  hero.classList.remove('ghost');
  hero.previousElementSibling;
  hero.style;
  hero.querySelector('.heroBody');
  hero.parentElement.querySelector('.hero')?.style?.setProperty('--reveal','1');
  // show hero bg image
  document.querySelector('.hero::before');
  hero.querySelector('.heroBody');
  document.querySelectorAll('.hero')[0].style.setProperty('--reveal','1');
  document.querySelectorAll('.hero')[0].style.setProperty('opacity','1');
  document.querySelectorAll('.hero')[0].style.setProperty('transform','none');
  document.querySelectorAll('.hero')[0].style.setProperty('filter','none');
  document.querySelectorAll('.hero')[0].style.setProperty('backdrop-filter','');
  // actually flip the ::before opacity:
  document.styleSheets[0]; // force style recalc
  requestAnimationFrame(()=> document.querySelector('.hero').style.setProperty('--x','1'));
  document.querySelector('.hero').style.setProperty('--y','1');
  document.querySelector('.hero').style.setProperty('--z','1');
  // quick hack: add a class to reveal ::before via JS
  document.querySelector('.hero').classList.add('revealPhoto');
};
document.getElementById('denyPhoto').onclick = ()=>{
  bgPhoto.style.opacity='0';
  document.getElementById('gate').classList.add('hide');
  app.style.display='grid';
};
document.getElementById('likeALittle').onclick = ()=>{ likeBoost = 1.0; };
document.getElementById('likeTooMuch').onclick = ()=>{ likeBoost = 1.6; };

/* reveal hero background via CSS class */
const css = document.createElement('style');
css.textContent = `.hero.revealPhoto::before{opacity:.42}`;
document.head.appendChild(css);

/* ----------------- FX setup ----------------- */
function fit(canvas){
  const dpr = Math.max(1, Math.min(2, window.devicePixelRatio||1));
  canvas.width = innerWidth*dpr; canvas.height = innerHeight*dpr;
  canvas.style.width = innerWidth+'px'; canvas.style.height = innerHeight+'px';
  const ctx = canvas.getContext('2d'); ctx.setTransform(dpr,0,0,dpr,0,0);
  return ctx;
}
const cHearts = document.getElementById('layer-hearts');
const cSpark = document.getElementById('layer-sparkles');
const cConf = document.getElementById('layer-confetti');
let ctxH = fit(cHearts), ctxS = fit(cSpark), ctxC = fit(cConf);
addEventListener('resize', ()=>{ ctxH=fit(cHearts); ctxS=fit(cSpark); ctxC=fit(cConf); });

/* ----------------- Advanced Heart Rain ----------------- */
let heartDrops = [];
function drawHeart(ctx, x,y, s, rot, hue){
  ctx.save(); ctx.translate(x,y); ctx.rotate(rot); ctx.scale(s,s);
  // glossy heart with highlight + shadow
  const grad = ctx.createRadialGradient(-0.6,-0.6,0.1, 0,0,3);
  grad.addColorStop(0,'rgba(255,255,255,.95)');
  grad.addColorStop(.18, `hsl(${hue} 90% 65%)`);
  grad.addColorStop(1, `hsl(${hue} 90% 55%)`);
  ctx.fillStyle = grad;
  ctx.beginPath();
  ctx.moveTo(0,0);
  ctx.bezierCurveTo(-1.5,-1.5,-3,0.5,0,3);
  ctx.bezierCurveTo(3,0.5,1.5,-1.5,0,0);
  ctx.closePath(); ctx.fill();
  // tiny glare
  ctx.globalAlpha=.5; ctx.fillStyle='#fff'; ctx.beginPath(); ctx.ellipse(-0.7,-0.7,.25,.18,0,0,Math.PI*2); ctx.fill(); ctx.globalAlpha=1;
  ctx.restore();
}
function spawnHeartRain(n=80){
  const boost = likeBoost;
  for(let i=0;i<n*boost;i++){
    heartDrops.push({
      x: Math.random()*innerWidth, y: -20-Math.random()*innerHeight*.2,
      vx: (Math.random()-.5)*0.9, vy: Math.random()*2.6+1.2,
      rot: Math.random()*Math.PI*2, vr: (Math.random()-.5)*0.04,
      s: (Math.random()*20+14)/12, hue: 330+Math.random()*40, life: 1
    });
  }
}
(function heartLoop(){
  // motion blur veil
  ctxH.fillStyle = 'rgba(10,10,22,.16)';
  ctxH.fillRect(0,0,innerWidth,innerHeight);

  heartDrops.forEach(h=>{
    h.x+=h.vx; h.y+=h.vy; h.rot+=h.vr;
    drawHeart(ctxH, h.x,h.y, h.s/16, h.rot, h.hue);
  });
  heartDrops = heartDrops.filter(h=> h.y<innerHeight+60);
  requestAnimationFrame(heartLoop);
})();

/* ----------------- Teddy Rain (emoji+soft bounce+shadow) ----------------- */
let teddies = [];
function spawnTeddy(n=60){
  const boost = likeBoost;
  for(let i=0;i<n*boost;i++){
    teddies.push({
      x: Math.random()*innerWidth, y: -60-Math.random()*200,
      vx:(Math.random()-.5)*0.6, vy:Math.random()*2+1,
      s: Math.random()*20+28, rot:(Math.random()-.5)*.5, vr:(Math.random()-.5)*.02
    });
  }
}
(function teddyLoop(){
  teddies.forEach(t=>{
    t.x+=t.vx; t.y+=t.vy; t.vy+=0.03; t.rot+=t.vr;
    // Shadow
    const sx = t.x, sy = Math.min(innerHeight-6, t.y+18);
    ctxH.save(); ctxH.globalAlpha=.18; ctxH.fillStyle='#000'; ctxH.beginPath(); ctxH.ellipse(sx,sy, t.s*.5, t.s*.18,0,0,Math.PI*2); ctxH.fill(); ctxH.restore();
    // Teddy
    ctxH.save(); ctxH.translate(t.x,t.y); ctxH.rotate(t.rot);
    ctxH.font = `${t.s}px system-ui, Apple Color Emoji, Segoe UI Emoji`; ctxH.fillText('üß∏', 0, 0);
    ctxH.restore();
    // bounce
    if(t.y>innerHeight-10){ t.y=innerHeight-10; t.vy*=-0.45; }
  });
  teddies = teddies.filter(t=> Math.abs(t.vy)>0.05 || t.y<innerHeight-9);
  requestAnimationFrame(teddyLoop);
})();

/* ----------------- Sparkles (mouse paint) ----------------- */
let sparkOn = true, sparks = [];
function addSpark(x,y){
  if(!sparkOn) return;
  for(let i=0;i<6;i++){
    sparks.push({x,y, vx:(Math.random()-.5)*1.6, vy:(Math.random()-.5)*1.6, life:1, s:Math.random()*2.4+1.2, hue: 320+Math.random()*40});
  }
}
(function sparkLoop(){
  ctxS.clearRect(0,0,innerWidth,innerHeight);
  sparks.forEach(p=>{
    p.x+=p.vx; p.y+=p.vy; p.life-=0.02;
    ctxS.globalAlpha=Math.max(0,p.life);
    ctxS.fillStyle = `hsl(${p.hue} 90% 70%)`;
    ctxS.beginPath(); ctxS.arc(p.x,p.y,p.s,0,Math.PI*2); ctxS.fill();
    // cross glint
    ctxS.fillRect(p.x-0.5,p.y-3,1,6); ctxS.fillRect(p.x-3,p.y-0.5,6,1);
  });
  ctxS.globalAlpha=1; sparks=sparks.filter(p=>p.life>0);
  requestAnimationFrame(sparkLoop);
})();
addEventListener('mousemove', e=> addSpark(e.clientX,e.clientY), {passive:true});
addEventListener('touchmove', e=>{const t=e.touches[0]; if(t) addSpark(t.clientX,t.clientY);}, {passive:true});

/* ----------------- Fireworks ----------------- */
function fireworks(x,y){
  const parts = Array.from({length: Math.floor(140*likeBoost)}, ()=>({
    x,y, vx:Math.cos(Math.random()*Math.PI*2)* (Math.random()*5+1.5),
    vy:Math.sin(Math.random()*Math.PI*2)* (Math.random()*5+1.5),
    g:.06+Math.random()*.05, s:Math.random()*2.4+1.2, life:60+Math.random()*30, hue:Math.random()*360, rot:Math.random()*Math.PI*2, vr:(Math.random()-.5)*.25
  }));
  (function loop(){
    ctxC.clearRect(0,0,innerWidth,innerHeight);
    parts.forEach(p=>{
      p.vy+=p.g; p.x+=p.vx; p.y+=p.vy; p.rot+=p.vr; p.life--;
      ctxC.save(); ctxC.translate(p.x,p.y); ctxC.rotate(p.rot);
      ctxC.fillStyle = `hsl(${p.hue} 90% 60%)`; ctxC.fillRect(-p.s/2,-p.s/2,p.s,p.s); ctxC.restore();
    });
    if(parts.some(p=>p.life>0)) requestAnimationFrame(loop); else ctxC.clearRect(0,0,innerWidth,innerHeight);
  })();
}

/* ----------------- Heart Burst ----------------- */
function heartBurst(x,y,n=90){
  for(let i=0;i<n*likeBoost;i++){
    heartDrops.push({
      x, y, vx:Math.cos(i/n*2*Math.PI)*(Math.random()*3+1.2), vy:Math.sin(i/n*2*Math.PI)*(Math.random()*3+1.2),
      rot:Math.random()*Math.PI*2, vr:(Math.random()-.5)*.08, s:(Math.random()*12+10)/12, hue: 330+Math.random()*40
    });
  }
}

/* ----------------- Buttons ----------------- */
document.getElementById('btnHearts').onclick = ()=> spawnHeartRain(120);
document.getElementById('btnTeddy').onclick  = ()=> spawnTeddy(90);
document.getElementById('btnFire').onclick   = (e)=>{ const r=e.target.getBoundingClientRect(); fireworks(r.left+r.width/2, r.top+r.height/2); };
document.getElementById('btnBurst').onclick  = (e)=>{ const r=e.target.getBoundingClientRect(); heartBurst(r.left+r.width/2, r.top+r.height/2); };
document.getElementById('btnSparkles').onclick = (e)=>{ sparkOn=!sparkOn; e.target.textContent = sparkOn? '‚ú® Toggle Sparkles' : '‚ú® Sparkles Off'; };
document.getElementById('btnMessage').onclick = ()=>{
  const msgs = [
    "Saduni, you‚Äôre my favorite place to be. üíñ",
    "Every minute with you is my lucky minute. ‚ú®",
    "You + Me = Always. üíû",
    "Your smile? My sunshine. ‚òÄÔ∏è"
  ];
  alert(msgs[Math.floor(Math.random()*msgs.length)]);
};

/* Click anywhere for a burst */
addEventListener('click', (e)=>{ if(!e.target.classList.contains('btn')) heartBurst(e.clientX,e.clientY,60); });

</script>
</body>
</html>